<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:include="partials::head">
</head>
<body>
<header th:include="partials::my-header"></header>
<nav th:include="partials::my-navbar"></nav>

<h1>This is the show all page</h1>
<div sec:authorize="isAuthenticated()">
    This content is only shown to authenticated users.

    User ID: <span th:text="${#authentication.principal.id}"/><br>
    Username: <span th:text="${#authentication.principal.username}"/><br>
    Email: <span th:text="${#authentication.principal.email}"/><br>
</div>
<br>
<h2>Here are the posts:</h2>

<div th:each="post : ${posts}">
    <hr>
    <h3><span th:text="${post.getTitle()}"></span></h3>
    <p><span th:text="${post.getBody()}"></span></p>
    <h6>submitted by: <span th:text="${post.getUser().getUsername()}"></span></h6>
    <hr>
</div>

<footer th:include="partials::my-footer"></footer>
</body>
</html>
